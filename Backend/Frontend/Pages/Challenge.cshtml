@page
@model Frontend.Pages.ChallengeModel
@{
}

@if(TempData["TestResult"] != null)
{
    <script>
        alert('@TempData["TestResult"]');
    </script>
}
<style>

    .grid-container-element {
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-gap: 20px;
        border: 0px solid black;
        width: 100%;
    }

    .grid-child-element {
        margin: 10px;
        border: 0px solid red;
    }

</style>
<form id="challengeForm" asp-action="Challenge" method="post">
<div style="display: flex; justify-content: space-between; align-items: flex-start; padding: 20px;">

    <!-- Python Editor -->
    <div style="flex:1; max-width: 100%;">
            <div class="grid-container-element">
                <div class="grid-child-element">
        <textarea id="pythonCode" asp-for="Code" style="width: 100%; height: 400px;">
        </textarea>
                </div>
           <div class ="grid-child-element">
               <div class="text-center">
                        <label style="font-size:large;"> <b> Description </b> </label>
                        <br/>
                        <a>@Model.Description</a>
            <br />
                        <br />
                        <br />
        <button name="validate" value="validate" onclick="validateCode()">Validate</button>
                    </div>
            </div>
        </div>
    </div>

    </div>
    <!-- Input and Buttons -->
    <div style="flex: 1; max-width: 25%; margin-left: 20px;">
        <label for="inputText">Input:</label>
        <input asp-for="TestInput" type="text" id="inputText" style="width: 100%; margin-bottom: 10px;">
            <button name="test" value="test" onclick="runTest()">Run Test</button>
    </div>

    

</form>


<script>
    function runTest() {
        var pythonCode = document.getElementById('pythonCode').value;
        var inputText = document.getElementById('inputText').value;

        // Perform logic to run the test with the provided Python code and input
        // You can use AJAX to send the Python code and input to the server for execution

        // For demonstration purposes, an alert is shown
        alert('Running test...\nPython Code:\n' + pythonCode + '\nInput Text: ' + inputText);
    }

    function validateCode() {
        var pythonCode = document.getElementById('pythonCode').value;

        // Perform logic to validate the Python code
        // You can use AJAX to send the Python code to the server for validation

        // For demonstration purposes, an alert is shown
        alert('Validating code...\nPython Code:\n' + pythonCode);
    }


</script>